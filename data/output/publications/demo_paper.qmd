---  
title: Demo Bariatric Paper
subtitle: "Compiling research data generated from this MBSA-QIP demonstration"  
date: last-modified  
date-format: full  
author:  
  - name:  
      given: Pranav Kumar  
      family: Mishra  
    affiliations:  
      - ref: rushsurg  
      - ref: rushortho  
    corresponding: true  
    url: https://drpranavmishra.com  
    email: pranav_k_mishra@rush.edu  
    orcid: 0000-0001-5219-6269    
    role: "Post Doctoral Research Fellow"  
format:  
  html:  
    code-fold: true 
  pdf: default
  arxiv-pdf:
    keep-tex: true 
    
execute:   
  enabled: true  
  echo: false  
  output: asis #true  
---
```{python}
run_num = "001"
```


```{python}
import os, sys, socket
import json
import numpy as np
repository_root = "/home/pranav/work/pranavmishra90/courses/by-mishra/research-data-management"

# Get the computer name and the repository root

# Get the name of the computer, then save it to an environment variable
os.environ['computer_name']= socket.gethostname()

if len(os.environ['computer_name']) == 12:
    if os.path.exists('/home/coder/work'):
        
        is_docker = 'True'
        os.environ['is_docker']=is_docker
        os.chdir('/home/coder/work')
        os.environ['repo_root']=os.getcwd()
        print('This is a docker environment')

    
   
elif os.path.exists(repository_root) == True:
    is_docker = 'False'
    os.environ['is_docker'] = is_docker
    os.environ['repo_root'] = repository_root

else:
    is_docker = 'False'
    os.environ['is_docker'] = is_docker
    print(f"Error finding the repository root for computer {os.environ['computer_name']}")

os.chdir(os.environ['repo_root'])
```

# Introduction
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin condimentum placerat est, eget scelerisque erat placerat sed. Pellentesque fringilla ex sed nibh venenatis elementum. Sed a turpis lacinia, placerat ante bibendum, luctus arcu. Phasellus finibus sagittis lorem a lobortis. Vivamus mollis placerat sollicitudin. Pellentesque eleifend lorem vel semper aliquet. Aenean ut est sit amet nisl varius blandit. Phasellus nec dolor nunc. Sed sed tempor orci.

Fusce lorem lorem, maximus sed semper at, gravida in dolor. Vivamus in finibus metus, sit amet cursus mi. Fusce rhoncus metus vel lacus porttitor consequat. Etiam rhoncus tempor ultrices. Pellentesque sit amet nunc id ligula laoreet maximus quis ut libero. Nullam dictum mauris ac congue vehicula. Donec ultrices eu metus eget posuere. Quisque quis nisl tincidunt, rutrum elit in, pulvinar ex. Curabitur at ipsum tincidunt, sollicitudin massa vitae, viverra ante.

# Methodology

```{python}
run_base_directory = "data/analysis/bariatric/runs"
this_run_directory = os.path.join(run_base_directory, "run_" + run_num)
parameters_path = f"{this_run_directory}/text/Run{run_num}.parameters"

# Read the parameters from the file and execute them globally
with open(parameters_path, 'r', encoding='utf-8') as file:
    exec(file.read(), globals())
```

In this study, the authors examined a cohort of bariatric patients who had surgery between `{python} year_start` and `{python} year_stop`. Participant use files from the Metabolic and Bariatric Surgery Accreditation Quality Improvement Program (MBSAQIP) were first combined into one dataset.

Next, we filtered the data, selecting for the following CPT Codes: `{python} ",".join(CPT_filter)`.

Nullam semper mi eu mi malesuada, et blandit mi convallis. Integer placerat est ipsum, sed rutrum magna convallis at. Maecenas eu mi ipsum. Praesent eu volutpat augue. Nulla tincidunt consequat dignissim. Etiam pretium, diam ac pharetra varius, lectus tortor bibendum felis, ac condimentum nibh ipsum nec lorem. Cras aliquam hendrerit diam, ac molestie enim bibendum a. Nam hendrerit eleifend elit, non ullamcorper enim finibus id. In a facilisis enim. Cras posuere, dui quis vestibulum luctus, sem eros condimentum augue, ac suscipit erat sapien non urna. Donec ut varius ex, non dignissim lorem. Cras sem magna, fermentum et arcu vel, accumsan placerat urna. Ut mattis lectus elit, a rhoncus tellus dapibus eu.

# Results


# Discussion